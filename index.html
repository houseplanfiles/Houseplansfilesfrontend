<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <link rel="preload" as="image" href="/b11.jpg" fetchpriority="high" />

  <!-- Google Tag Manager -->
  <script>
    (function (w, d, s, l, i) {
      w[l] = w[l] || [];
      w[l].push({ "gtm.start": new Date().getTime(), event: "gtm.js" });
      var f = d.getElementsByTagName(s)[0],
        j = d.createElement(s),
        dl = l != "dataLayer" ? "&l=" + l : "";
      j.async = true;
      j.src = "https://www.googletagmanager.com/gtm.js?id=" + i + dl;
      f.parentNode.insertBefore(j, f);
    })(window, document, "script", "dataLayer", "GTM-KCFWJDQK");
  </script>
  <!-- End Google Tag Manager -->

  <!-- Google Ads -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=AW-11378419977"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() {
      dataLayer.push(arguments);
    }
    gtag("js", new Date());
    gtag("config", "AW-11378419977");
  </script>
  <!-- AutoSAAS Universal Lead Tracker -->
  <script>
    /* AutoSAAS Universal Lead Tracker */
    (function () {
      const API_KEY = "ws_ayt7qatlve";
      const API_URL = "https://nexaflowbackend.onrender.com/api/leads/capture";

      window.addEventListener(
        "submit",
        function (e) {
          const form = e.target;
          if (!form) return;

          const formData = new FormData(form);
          const data = {};
          formData.forEach((value, key) => {
            data[key] = value;
          });

          const payload = {
            apiKey: API_KEY,
            name:
              data.name ||
              data.fullname ||
              data.user_name ||
              "Anonymous Lead",
            email: data.email || data.user_email || "",
            phone: data.phone || data.mobile || data.tel || "",
            source: window.location.hostname,
            data: data,
          };

          if (payload.email || payload.phone) {
            fetch(API_URL, {
              method: "POST",
              headers: { "Content-Type": "application/json" },
              body: JSON.stringify(payload),
            })
              .then((r) => r.json())
              .then((res) => {
                console.log("AutoSAAS: Lead synced");
              })
              .catch(console.error);
          }
        },
        true
      );
    })();
  </script>
</head>

<body>
  <!-- Google Tag Manager (noscript) -->
  <noscript>
    <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KCFWJDQK" height="0" width="0"
      style="display: none; visibility: hidden"></iframe>
  </noscript>
  <!-- End GTM -->

  <div id="root"></div>

  <script type="module" src="/src/main.tsx"></script>

  <!-- AiSensy Widget ab React component se load hoga -->
</body>

</html>